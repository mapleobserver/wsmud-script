// ç”¨äºå¿«é€Ÿæ‰«è¡å‰¯æœ¬ï¼Œå¯é€‰æ‹©æ˜¯å¦è‡ªåŠ¨è´­ä¹°æ‰«è¡ç¬¦ã€‚
// å››åŒºç™½ä¸‰ä¸‰
($localVer) = 2020100501
($changeLog) = ä¼˜åŒ–æ‰«è¡é¢‘æ¬¡ï¼ŒåŠæ—¶æ¸…åŒ…é¿å…èƒŒåŒ…å¤ªæ»¡å˜åºŸå·ã€‚
@js ($version) = $.ajax({type: "GET", url: "http://wsmud-cdn.if404.com/version.txt", async: false, cache: false}).responseText;
//@print (version)
@js ($remoteVer) = var v = (version);v.kssd
[if] (localVer) != (remoteVer)
  @js WG.SendCmd("tm å½“å‰å¿«é€Ÿæ‰«è¡ç‰ˆæœ¬ã€(localVer)ã€‘ï¼Œå°†å¼€å§‹è‡ªåŠ¨æ›´æ–°è‡³æœ€æ–°ã€(remoteVer)ã€‘ã€‚")
  ($f_ss)={"name":"å¿«é€Ÿæ‰«è¡","source":"http://wsmud-cdn.if404.com/å‰¯æœ¬/å¿«é€Ÿæ‰«è¡.flow.txt","finder":"æ ¹æ–‡ä»¶å¤¹"}
  @js var time = Date.parse( new Date());var f=(f_ss);var n=f["name"];var s=f["source"];var fd=f["finder"];WorkflowConfig.removeWorkflow({"name":n,"type":"flow","finder":fd});$.get(s,{stamp:time},function(data,status){WorkflowConfig.createWorkflow(n,data,fd);});
  @wait 1000
  ($log) = å¿«é€Ÿæ‰«è¡å·²æ›´æ–°è‡³æœ€æ–°ç‰ˆã€(remoteVer)ã€‘ï¼Œå³å°†è‡ªåŠ¨è¿è¡Œã€‚æœ¬æ¬¡æ›´æ–°å†…å®¹ï¼š(changeLog)
  @js WG.SendCmd("tm (log)")
  @print <ord>(log)</ord>
  @js var f=(f_ss);ManagedPerformerCenter.start(f["name"], FlowStore.get(f["name"]));
  [exit]
[else]
  ($log) = å¼€å§‹è¿è¡Œå¿«é€Ÿæ‰«è¡ï¼Œå½“å‰ç‰ˆæœ¬ã€(remoteVer)ã€‘ã€‚æ›´æ–°å†…å®¹ï¼š(changeLog)
  @js WG.SendCmd("tm (log)")
  @print <ord>(log)</ord>

[if] (SDWay) == null
    ($SDWay) = ç›´æ¥æ‰«è¡
#input ($info1) = <ord>æ‰«è¡å¼€å§‹åæ— æ³•ä¸­æ­¢ï¼Œä¸ºé¿å…æ„å¤–ï¼Œæ¬¡æ•°é™å®šæœ€é«˜2000æ¬¡ã€‚</ord>,ğŸ‘‡ğŸ»ä»”ç»†å¡«å†™ğŸ‘‡ğŸ»
#input ($info2) = <ord>ä¸ºé¿å…èƒŒåŒ…å¤ªæ»¡æ— æ³•æ¸…ç†ï¼Œå‰æœŸå‰¯æœ¬æ¯100æ¬¡ä¼šè‡ªåŠ¨æ¸…ç†ã€‚</ord>,ğŸ‘‡ğŸ»ä»”ç»†å¡«å†™ğŸ‘‡ğŸ»
#select ($AutoBuy) = è‡ªåŠ¨è¡¥å……æ‰«è¡ç¬¦(å…è´¹æ‰«è¡æœŸé—´é€‰ä¸è´­ä¹°),è´­ä¹°|ä¸è´­ä¹°,(AutoBuy)
#select ($FBNameQ) = å‰¯æœ¬,æ¸©åºœ|äº”æ¯’æ•™|äº‘æ¢¦æ²¼æ³½|æ¡ƒèŠ±å²›(ç®€å•)|æ¡ƒèŠ±å²›(å›°éš¾)|ç™½é©¼å±±|æ˜Ÿå®¿æµ·|å†°ç«å²›(å›°éš¾)|ç§»èŠ±å®«(ç®€å•)|ç§»èŠ±å®«(å›°éš¾)|ç‡•å­å(ç®€å•)|ç‡•å­å(å›°éš¾)|é»‘æœ¨å´–(ç®€å•)|é»‘æœ¨å´–(å›°éš¾)|ç¼¥ç¼ˆå³°(å›°éš¾)|å…‰æ˜é¡¶|å¤©é¾™å¯º(å›°éš¾)|è¡€åˆ€é—¨|å¤å¢“æ´¾(ç®€å•)|å¤å¢“æ´¾(å›°éš¾)|åå±±è®ºå‰‘|ä¾ å®¢å²›|å‡€å¿µç¦…å®—(ç®€å•)|å‡€å¿µç¦…å®—(å›°éš¾)|æ…ˆèˆªé™æ–‹(ç®€å•)|æ…ˆèˆªé™æ–‹(å›°éš¾)|é˜´é˜³è°·|æˆ˜ç¥æ®¿(ç®€å•)|æˆ˜ç¥æ®¿(å›°éš¾),(FBNameQ)
#input ($repeat) = æ‰«è¡å‰¯æœ¬æ¬¡æ•°,1
#select ($SDWay) = æ‰«è¡æ–¹å¼<ord>(åˆ†æ‰¹æ‰«è¡å°†æ¯æ¬¡å‘é€æ‰«è¡100æ¬¡å‘½ä»¤ï¼Œç›´åˆ°å®Œæˆ)</ord>,ç›´æ¥æ‰«è¡|åˆ†æ‰¹æ‰«è¡,(SDWay)
#config
[if] (repeat) == null
    @print <ord>æ‰«è¡æ¬¡æ•°é”™è¯¯ï¼Œè¯·é‡æ–°å¡«å†™ï¼</ord>
    [exit]
[else if] (repeat) > 2000
    tm æ‰€å¡«æ¬¡æ•°(repeat)è¶…å‡ºæœ¬æµç¨‹2000æ¬¡ä¸Šé™ï¼Œè¯·é‡æ–°å¡«å†™ï¼
    @print <ord>æ‰€å¡«æ¬¡æ•°(repeat)è¶…å‡ºæœ¬æµç¨‹2000æ¬¡ä¸Šé™ï¼Œè¯·é‡æ–°å¡«å†™ï¼</ord>
    [exit]
<-stopSSAuto
stopstate
[if] (FBNameQ) == æ¸©åºœ
    ($fbcr) = cr cd/wen/damen 0
[else if] (FBNameQ) == äº”æ¯’æ•™
    ($fbcr) = cr cd/wudu/damen 0
[else if] (FBNameQ) == äº‘æ¢¦æ²¼æ³½
    ($fbcr) = cr cd/yunmeng/senlin 0
[else if] (FBNameQ) == æ¡ƒèŠ±å²›(ç®€å•)
    ($fbcr) = cr taohua/haitan 0
[else if] (FBNameQ) == æ¡ƒèŠ±å²›(å›°éš¾)
    ($fbcr) = cr taohua/haitan 1
[else if] (FBNameQ) == ç™½é©¼å±±
    ($fbcr) = cr baituo/damen 0
[else if] (FBNameQ) == æ˜Ÿå®¿æµ·
    ($fbcr) = cr xingxiu/xxh6 0
[else if] (FBNameQ) == å†°ç«å²›(å›°éš¾)
    ($fbcr) = cr mj/bhd/haibian 1
[else if] (FBNameQ) == ç§»èŠ±å®«(ç®€å•)
    ($fbcr) = cr huashan/yihua/shandao 0
[else if] (FBNameQ) == ç§»èŠ±å®«(å›°éš¾)
    ($fbcr) = cr huashan/yihua/shandao 1
[else if] (FBNameQ) == ç‡•å­å(ç®€å•)
    ($fbcr) = cr murong/anbian 0
[else if] (FBNameQ) == ç‡•å­å(å›°éš¾)
    ($fbcr) = cr murong/anbian 1
[else if] (FBNameQ) == é»‘æœ¨å´–(ç®€å•)
    ($fbcr) = cr heimuya/shangu 0
[else if] (FBNameQ) == é»‘æœ¨å´–(å›°éš¾)
    ($fbcr) = cr heimuya/shangu 1
[else if] (FBNameQ) == ç¼¥ç¼ˆå³°(å›°éš¾)
    ($fbcr) = cr lingjiu/shanjiao 1
[else if] (FBNameQ) == å…‰æ˜é¡¶
    ($fbcr) = cr mj/shanmen 0
[else if] (FBNameQ) == å¤©é¾™å¯º(å›°éš¾)
    ($fbcr) = cr tianlong/damen 1
[else if] (FBNameQ) == è¡€åˆ€é—¨
    ($fbcr) = cr xuedao/shankou 0
[else if] (FBNameQ) == å¤å¢“æ´¾(ç®€å•)
    ($fbcr) = cr gumu/gumukou 0
[else if] (FBNameQ) == å¤å¢“æ´¾(å›°éš¾)
    ($fbcr) = cr gumu/gumukou 1
[else if] (FBNameQ) == åå±±è®ºå‰‘
    ($fbcr) = cr huashan/lunjian/leitaixia 0
[else if] (FBNameQ) == ä¾ å®¢å²›
    ($fbcr) = cr xkd/shimen 0
[else if] (FBNameQ) == å‡€å¿µç¦…å®—(ç®€å•)
    ($fbcr) = cr chanzong/shanmen 0
[else if] (FBNameQ) == å‡€å¿µç¦…å®—(å›°éš¾)
    ($fbcr) = cr chanzong/shanmen 1
[else if] (FBNameQ) == æ…ˆèˆªé™æ–‹(ç®€å•)
    ($fbcr) = cr cihang/shanmen 0
[else if] (FBNameQ) == æ…ˆèˆªé™æ–‹(å›°éš¾)
    ($fbcr) = cr cihang/shanmen 1
[else if] (FBNameQ) == é˜´é˜³è°·
    ($fbcr) = cr yyg/ya 0
[else if] (FBNameQ) == æˆ˜ç¥æ®¿(ç®€å•)
    ($fbcr) = cr zsd/damen 0
[else if] (FBNameQ) == æˆ˜ç¥æ®¿(å›°éš¾)
    ($fbcr) = cr zsd/damen 1
[else]
    @print <ord>æ²¡æœ‰æ‰¾åˆ°å¯¹åº”å‰¯æœ¬ï¼Œè¯·é‡æ–°é€‰æ‹©ï¼</ord>
    ($FBNameQ) = null
    ($fbcr) = null
    [exit]
//æ˜¯å¦è¡¥å……æ‰«è¡ç¬¦
[if] (AutoBuy) == è´­ä¹°
    [if] {bæ‰«è¡ç¬¦#}? != null && {bæ‰«è¡ç¬¦#}? < (repeat)
        ($num) = (repeat) - {bæ‰«è¡ç¬¦#}
        shop 0 (num)
    [else if] {bæ‰«è¡ç¬¦#}? == null
        shop 0 (repeat)
[if] (fbcr) == null
    @print <ord>å‰¯æœ¬ä»£ç æ— æ•ˆï¼Œè¯·é‡æ–°é€‰æ‹©ï¼</ord>
    [exit]
[if] (FBNameQ) == æ¸©åºœ || (FBNameQ) == äº”æ¯’æ•™ || (FBNameQ) == æ¡ƒèŠ±å²›(ç®€å•) || (FBNameQ) == æ¡ƒèŠ±å²›(å›°éš¾) || (FBNameQ) == ç™½é©¼å±± || (FBNameQ) == æ˜Ÿå®¿æµ· || (FBNameQ) == å†°ç«å²›(å›°éš¾) || (FBNameQ) == ç§»èŠ±å®«(ç®€å•) || (FBNameQ) == ç§»èŠ±å®«(å›°éš¾) || (FBNameQ) == ç‡•å­å(ç®€å•) || (FBNameQ) == ç‡•å­å(å›°éš¾) || (FBNameQ) == é»‘æœ¨å´–(ç®€å•) || (FBNameQ) == é»‘æœ¨å´–(å›°éš¾) || (FBNameQ) == ç¼¥ç¼ˆå³°(å›°éš¾) || (FBNameQ) == å…‰æ˜é¡¶
    [if] (repeat) > 100
        ($qingbao) = true
        ($SDWay) = åˆ†æ‰¹æ‰«è¡
        tm å‰¯æœ¬ä¸ºã€(FBNameQ)ã€‘ï¼Œä¸ºé¿å…èƒŒåŒ…çˆ†ç‚¸ï¼Œè‡ªåŠ¨æ”¹ä¸ºåˆ†æ‰¹æ‰«è¡æ¨¡å¼ï¼Œç›´åˆ°å®Œæˆ(repeat)æ¬¡ã€‚
<-recordGains
[if] (SDWay) == ç›´æ¥æ‰«è¡
    tm æ ¹æ®è®¾ç½®ï¼Œå¼€å§‹æ‰«è¡ã€(FBNameQ)ã€‘(repeat)æ¬¡ã€‚
    (fbcr) (repeat)
    @tip æ‰«è¡å®Œæˆ|æ‰«è¡ç¬¦($lack)ç»§ç»­æ‰«è¡|ä½ çš„($jingli)ä¸å¤Ÿ
[else if] (SDWay) == åˆ†æ‰¹æ‰«è¡
    ($num) = 0
    ($sdnum) = 0
    [while] (sdnum) < (repeat)
        stopstate
        [if] (repeat) <= 100
            tm æ ¹æ®è®¾ç½®ï¼Œå¼€å§‹æ‰«è¡ã€(FBNameQ)ã€‘(repeat)æ¬¡ã€‚
            (fbcr) (repeat)
            @tip æ‰«è¡å®Œæˆ|æ‰«è¡ç¬¦($lack)ç»§ç»­æ‰«è¡|ä½ çš„($jingli)ä¸å¤Ÿ
            [break]
        [else]
            ($num) = (repeat) - (sdnum)
            [if] (num) > 100
                (fbcr) 100
            [else if] (num) > 0
                (fbcr) (num)
            ($sdnum) = (sdnum) + 100
            @tip æ‰«è¡å®Œæˆ|æ‰«è¡ç¬¦($lack)ç»§ç»­æ‰«è¡|ä½ çš„($jingli)ä¸å¤Ÿ
            [if] (num) > 100
                tm åˆ†æ‰¹æ‰«è¡ï¼Œç›®å‰å·²æ‰«è¡ã€(FBNameQ)ã€‘(sdnum)/(repeat)æ¬¡ã€‚
            [else]
                tm åˆ†æ‰¹æ‰«è¡ï¼Œç›®å‰å·²æ‰«è¡ã€(FBNameQ)ã€‘(repeat)/(repeat)æ¬¡ã€‚
            [if] (qingbao) == true
                stopstate
                @tidyBag
                @await 2000
            [if] (lack) != null || (jingli) != null
                [break]
[if] (lack) != null
    @print <ord>æ‰«è¡ç¬¦ä¸è¶³ï¼Œå·²åœæ­¢ã€‚</ord>
    tm æ‰«è¡ç¬¦ä¸è¶³ï¼Œå·²åœæ­¢ã€‚
[else if] (jingli) != null
    @print <ord>ç²¾åŠ›ä¸è¶³ï¼Œå·²åœæ­¢ã€‚</ord>
    tm ç²¾åŠ›ä¸è¶³ï¼Œå·²åœæ­¢ã€‚
[else]
    @print <ord>æ‰«è¡ã€(FBNameQ)ã€‘(repeat)æ¬¡å·²å®Œæˆã€‚</ord>
    tm æ‰«è¡ã€(FBNameQ)ã€‘(repeat)æ¬¡å·²å®Œæˆã€‚
recordGains->
@tidyBag
@wait 3000
$cleanall
@await 3000
stopSSAuto->
$zdwk