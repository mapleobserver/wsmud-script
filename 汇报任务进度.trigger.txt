// å¸®æ´¾é¢‘é“ï¼›å‘è¨€äººè‡ªå·±å¡«æˆ–è€…ç•™ç©ºï¼›å…³é”®å­—ï¼šæ±‡æŠ¥ä»»åŠ¡|task
// ç™½ä¸‰ä¸‰
[if] (content)==æ±‡æŠ¥ä»»åŠ¡ || (content)==task
  @toolbar jh
  @toolbar tasks
  @await 500
  @js ($taskT) = $(".dialog-tasks").find(".task-desc").eq("0").text().replace(/\n/g,"")
  @js ($test) = "(taskT)".match(/å¸ˆé—¨ä»»åŠ¡/)
  [if] (test) == null
    ($num) = 1
  [else]
    ($num) = 0
  @js ($taskAll) = $(".dialog-tasks").find(".task-desc").eq("(num)").text().replace(/\n/g,"")
  ($num) = (num) + 1
  @js ($taskSM) = $(".dialog-tasks").find(".task-desc").eq("(num)").text()
  ($num) = (num) + 1
  @js ($taskZB) = $(".dialog-tasks").find(".task-desc").eq("(num)").text()
  ($num) = (num) + 1
  @js ($taskYB) = $(".dialog-tasks").find(".task-desc").eq("(num)").text()

  //è¯·å®‰
  @js ($sxqa) = "(taskAll)".match(/å°šæœªé¦–å¸­è¯·å®‰/)
  //å‰¯æœ¬
  @js ($fbjd) = "(taskAll)".match(/ï¼Œå‰¯æœ¬ï¼š(.*)\/20/)[1]
  //æ­¦é“å¡”
  @js ($wdjd) = "(taskAll)".match(/æ­¦é“å¡”(.*)ï¼Œè¿›åº¦(\d+)\/(\d+)ï¼Œ/)
  [if] (wdjd) != null
    @js ($wdjd1) = "(taskAll)".match(/æ­¦é“å¡”(.*)ï¼Œè¿›åº¦(\d+)\/(\d+)ï¼Œ/)[1]
    @js ($wdjd2) = "(taskAll)".match(/æ­¦é“å¡”(.*)ï¼Œè¿›åº¦(\d+)\/(\d+)ï¼Œ/)[2]
    @js ($wdjd3) = "(taskAll)".match(/æ­¦é“å¡”(.*)ï¼Œè¿›åº¦(\d+)\/(\d+)ï¼Œ/)[3]
    [if] (wdjd2) < (wdjd3)
      ($wdjd) = (wdjd2)/(wdjd3)
    [else if] (wdjd1) == å¯ä»¥é‡ç½®
      ($wdjd) = (wdjd1)
    [else]
      ($wdjd) = null
  //è¥„é˜³
  @js ($xy) = "(taskAll)".match(/å°šæœªååŠ©è¥„é˜³å®ˆåŸ/)
  //é—¨æ´¾BOSS
  @js ($mpb) = "(taskAll)".match(/å°šæœªæŒ‘æˆ˜é—¨æ´¾BOSS/)
  //æ­¦ç¥BOSS
  @js ($wsboss) = var wb="(taskAll)".match(/æŒ‘æˆ˜æ­¦ç¥BOSS(\d+)æ¬¡/);if (wb!=null){wb[1]}
  [if] (wsboss) != null
    ($wsboss) = 5 - (wsboss)
  [else if] (:grade) == æ­¦ç¥ && (wsboss) == null
    ($wsboss) = 5
  //æ­¦é“å¡”ä¸»
  @js ($wdtz) = "(taskAll)".match(/å°šæœªæŒ‘æˆ˜æ­¦é“å¡”å¡”ä¸»/)
  //å¸ˆé—¨
  @js ($smjd1) = "(taskSM)".match(/ç›®å‰å®Œæˆ(.*)\/20ä¸ªï¼Œå…±è¿ç»­å®Œæˆ(.*)ä¸ª/)[1]
  @js ($smjd2) = "(taskSM)".match(/ç›®å‰å®Œæˆ(.*)\/20ä¸ªï¼Œå…±è¿ç»­å®Œæˆ(.*)ä¸ª/)[2]
  //è¿½æ•
  @js ($zbjd1) = "(taskZB)".match(/ç›®å‰å®Œæˆ(.*)\/20ä¸ªï¼Œå…±è¿ç»­å®Œæˆ(.*)ä¸ª/)[1]
  @js ($zbjd2) = "(taskZB)".match(/ç›®å‰å®Œæˆ(.*)\/20ä¸ªï¼Œå…±è¿ç»­å®Œæˆ(.*)ä¸ª/)[2]
  //æŠ¼é•–
  @js ($ybjd1) = "(taskYB)".match(/æœ¬å‘¨å®Œæˆ(.*)\/20ä¸ªï¼Œå…±è¿ç»­å®Œæˆ(.*)ä¸ª/)[1]
  @js ($ybjd2) = "(taskYB)".match(/æœ¬å‘¨å®Œæˆ(.*)\/20ä¸ªï¼Œå…±è¿ç»­å®Œæˆ(.*)ä¸ª/)[2]

  ($info) = è¿›åº¦ï¼š
  [if] (sxqa) != null
    ($info) = (info) ğŸ˜å°šæœªè¯·å®‰
  [if] (fbjd) < 20
    ($info) = (info) ğŸºå‰¯æœ¬ (fbjd)/20
  [if] (smjd1) < 20
    ($info) = (info) ğŸ—å¸ˆé—¨ (smjd1)/20
  [if] (zbjd1) < 20
    ($info) = (info) ğŸ¦è¿½æ• (zbjd1)/20
  [if] (wdjd) != null
    ($info) = (info) ğŸ¯æ­¦é“å¡” (wdjd)
  [if] (ybjd1) < 20
    ($info) = (info) ğŸ¦†æŠ¼é•– (ybjd1)/20
  [if] (xy) != null
    ($info) = (info) ğŸŸè¥„é˜³ 0/1
  [if] (mpb) != null
    ($info) = (info) ğŸé—¨æ´¾çº¢ 0/1
  [if] (wdtz) != null
    ($info) = (info) ğŸ·æ­¦é“å¡”ä¸» 0/1
  [if] (wsboss) < 5 && (wsboss) != null
    ($info) = (info) ğŸ¥•æ­¦ç¥BOSS (wsboss)/5
  [if] (info) != è¿›åº¦ï¼š
    [if] (name) == (:name)
      @await 5000
    @js WG.SendCmd("pty (info)")