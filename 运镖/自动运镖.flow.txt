//~silent
// å››åŒºç™½ä¸‰ä¸‰
// 1.å¬å”¤ä½›å…‰åŠŸèƒ½éœ€è¦æœ‰å¦å…‹å·æ”¯æŒã€‚2.ä»£ç å¼€å¤´æœ‰è¯´æ˜ä½¿ç”¨æ–¹æ³•ï¼Œåˆ«é—®æˆ‘æ€ä¹ˆç”¨ã€‚3.æŠ¼é•–å¸¸æœ‰å„ç§é—®é¢˜ï¼Œå¶å°”åˆ¤æ–­å‡ºé”™å¡åœ°å›¾è¯·æ‰‹åŠ¨æ“ä½œã€‚4.æµç¨‹åªæ˜¯å‡å°‘æ‰‹åŠ¨æ“ä½œï¼Œå®åœ¨æ‰“ä¸è¿‡è¯·è‡ªå·±æƒ³åŠæ³•ã€‚5.å¤§æ¦‚ç‡ä¸ä¼šåŠ æ–°åŠŸèƒ½ï¼Œæœ‰åŠ ä¹Ÿæ˜¯ä»¥æœˆä¸ºå‘¨æœŸã€‚6.éšç¼˜ä¿®bugã€‚
// é‡åˆ°ä¹é˜³å¯å¬å”¤å°‘æ—å·¥å…·äººç»„é˜Ÿä¸Šä½›å…‰ï¼Œé…åˆã€å¬å”¤ä½›å…‰ã€‘è§¦å‘ä½¿ç”¨
// é»˜è®¤åœ¨å¸®æ´¾é¢‘é“å‘å‡ºå¬å”¤ä½›å…‰ä¿¡æ¯ï¼Œå¦‚æœå¦å…‹å’Œè‡ªå·±ä¸åœ¨ä¸€ä¸ªå¸®æ´¾ï¼Œå¯é€‰æ‹©å…¬å…±æˆ–è€…é˜Ÿä¼é¢‘é“ã€‚
// 2020.12.09 - ä¿®å¤æ™šä¸Šå…«ç‚¹é¦–å¸­å¼Ÿå­æ¢äººæ—¶å¼•èµ·çš„bugï¼›æ¢å¤çº¢è“å¯ä½¿ç”¨é•¿ç”Ÿè¯€ï¼›ä¼˜åŒ–å¤šé¡¹åˆ¤æ–­ï¼›å¢å¼ºæç¤ºä¿¡æ¯ã€‚

($localVer) = 2021102601
($changeLog) = ğŸ†• ä¼˜åŒ–ä¸è¦æ€¥æ…¢æ…¢æ¥çš„å¤„ç†æ–¹å¼ã€‚ğŸŒŸ å¤šç§æ–¹æ¡ˆé€‰æ‹©ï¼›å¯é…åˆä½›å…‰å¦å…‹è§¦å‘ï¼›å¯è¿œç¨‹é€šçŸ¥ã€‚
($flowName) = è‡ªåŠ¨è¿é•–
($flowCode) = zdyb
($flowPath) = è¿é•–
($flowFinder) = æ ¹æ–‡ä»¶å¤¹
//($repourl) = https://cdn.jsdelivr.net/gh/mapleobserver/wsmud-script
($repourl) = http://wsmud-cdn.if404.com
@js ($version) = $.ajax({type: "GET", url: "(repourl)/version.txt", async: false, cache: false}).responseText;
[if] (version) != null
  @js ($remoteVer) = var v = (version);v.(flowCode)
[if] (localVer) < (remoteVer) && (remoteVer) != null
  [if] (UPnum) == null
    ($UPnum) = 0
  [if] (UPnum) < 2
    [if] (UPnum) == 1
      @print æœªè·å–åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œä½¿ç”¨å¤‡ç”¨åœ°å€å†æ¬¡å°è¯•...
      ($repourl) = http://wsmud-cdn.if404.com
    ($UPnum) = (UPnum) + 1
    [if] (flowPath) != æ ¹æ–‡ä»¶å¤¹ && (flowPath) != null
      ($flowSource) = (repourl)/(flowPath)/(flowName).flow.txt
    [else]
      ($flowSource) = (repourl)/(flowName).flow.txt
    [if] (flowFinder) == null
      ($flowFinder) = æ ¹æ–‡ä»¶å¤¹
    @js WG.SendCmd("tm å½“å‰(flowName)ç‰ˆæœ¬ã€(localVer)ã€‘ï¼Œå°†å¼€å§‹è‡ªåŠ¨æ›´æ–°è‡³æœ€æ–°ã€(remoteVer)ã€‘ã€‚")
    ($f_ss)={"name":"(flowName)","source":"(flowSource)","finder":"(flowFinder)"}
    @js var time = Date.parse( new Date());var f=(f_ss);var n=f["name"];var s=f["source"];var fd=f["finder"];WorkflowConfig.removeWorkflow({"name":n,"type":"flow","finder":fd});$.get(s,{stamp:time},function(data,status){WorkflowConfig.createWorkflow(n,data,fd);});
    @wait 1500
    ($log) = âœ…(flowName)å·²æ›´æ–°è‡³æœ€æ–°ç‰ˆã€(remoteVer)ã€‘ï¼Œå³å°†è‡ªåŠ¨è¿è¡Œã€‚
  [else]
    ($log) = â­•(flowName)æš‚æ—¶æ— æ³•æ­£å¸¸æ›´æ–°è‡³ã€(remoteVer)ã€‘ï¼Œç›´æ¥è¿è¡Œå½“å‰ç‰ˆæœ¬ã€(localVer)ã€‘ã€‚
    ($UPnum) = null
  @js WG.SendCmd("tm (log)")
  @print <ord>(log)</ord>
  [if] (UPnum) != null
    @js var f=(f_ss);ManagedPerformerCenter.start(f["name"], FlowStore.get(f["name"]));
    [exit]
[else]
  ($UPnum) = null
  [if] (remoteVer) == null
    ($log) = âš ï¸è·å–è¿œç¨‹ç‰ˆæœ¬å¤±è´¥ï¼Œç»´æŒå½“å‰ç‰ˆæœ¬ä¸å˜ã€‚
  [else]
    ($log) = ğŸš€å¼€å§‹è¿è¡Œ(flowName)ï¼Œå½“å‰ç‰ˆæœ¬ã€(remoteVer)ã€‘ã€‚æ›´æ–°å†…å®¹ï¼š(changeLog)
  @js WG.SendCmd("tm (log)")
  @print <ord>(log)</ord>


[while] (yb_com) == null
    @toolbar jh
    @toolbar tasks
    @task ç¦å¨é•–å±€æ—éœ‡å—($tag1)æœ¬å‘¨å®Œæˆ($yb_com)/20ä¸ª|ä½ ç›®å‰æ²¡æœ‰æ¥å—åˆ°å§”æ‰˜ï¼Œæœ¬å‘¨å®Œæˆ($yb_com)/20ä¸ª
    @await 500
[if] (yb_com) == 20
    @print <ord>æœ¬å‘¨è¿é•–å·²å®Œæˆ20æ¬¡ï¼Œæœ¬æµç¨‹ç»“æŸã€‚</ord>
    [exit]
[else]
    ($repeat) = 20 - (yb_com)
[if] (EscortHpThreshold) == null
    ($EscortHpThreshold) = 90
[if] (EscortMpThreshold) == null
    ($EscortMpThreshold) = 70
[if] (EscortFoguangChannel) == null
    ($EscortFoguangChannel) = å¸®æ´¾
[if] (EscortTangshi) == null
    ($EscortTangshi) = ä¸ä½¿ç”¨
[if] ($EscortForce) == null
    ($EscortForce) = ä¹é˜´ç¥åŠŸ
[if] ($EscortForce) == æ…ˆèˆªé™æ–‹
    ($EscortForce) = æ…ˆèˆªå‰‘å…¸
[if] (EscortJiuyin) == null
    ($EscortJiuyin) = å…³é—­
//[if] (EscortWaitCDExp) == null
//    ($EscortWaitCDExp) = null
[if] (EscortSkipCD) == null
    ($EscortSkipCD) = å…³é—­
[if] (EscortWeaponID) == null || (EscortWeaponID) == ^none
    ($EscortWeaponID) = null
[if] (EscortWaitTime) == null
    ($EscortWaitTime) = 500
// è¿œç¨‹é€šçŸ¥
[if] (EscortAlertTel) == null
    ($EscortAlertTel)=å…³é—­

#input ($repeat) = æœ¬æ¬¡æµç¨‹æŠ¼é•–æ¬¡æ•°,(repeat)
#select ($EscortHpThreshold) = ç–—ä¼¤ï¼Œå½“æ°”è¡€ä½äºç™¾åˆ†æ¯”,100|90|80|70|60|50|40|30|20|10|5|1,(EscortHpThreshold)
#select ($EscortMpThreshold) = æ‰“åï¼Œå½“å†…åŠ›ä½äºç™¾åˆ†æ¯”,100|90|80|70|60|50|40|30|20|10,(EscortMpThreshold)
#select ($EscortChangsheng) = ä½¿ç”¨é•¿ç”Ÿè¯€æ¢å¤æ°”è¡€å†…åŠ›,æ‰“å¼€|å…³é—­,(EscortChangsheng)
#select ($WDXuruo) = æ­»äº¡åè‡ªåŠ¨åˆ°æ­¦é“å¡”ä¸€ç™¾å±‚æ¸…é™¤è™šå¼±,æ‰“å¼€|å…³é—­,(WDXuruo)
#select ($EscortXuedao) = æ®‹è¡€ä½¿ç”¨æŠ€èƒ½(ä¸è‡ªåŠ¨ç–—ä¼¤),æ‰“å¼€|å…³é—­,(EscortXuedao)
#select ($EscortForce) = æŠ¼é•–ä½¿ç”¨å†…åŠŸ,ä¹é˜´ç¥åŠŸ|æ…ˆèˆªå‰‘å…¸|è‡ªåˆ›ä¹é˜´|è‡ªåˆ›æ…ˆèˆª|æ˜ç‰åŠŸ|ç´«éœç¥åŠŸ|å…¶å®ƒ,(EscortForce)
#select ($EscortSkipCD) = æ— è§†æ‰€æœ‰æŠ€èƒ½å†·å´<ord>ï¼ˆè¯¥é€‰é¡¹æ‰“å¼€åä¸‹é¢ä¸¤ä¸ªCDç›¸å…³é€‰é¡¹å‡æ— æ•ˆ</ord>,æ‰“å¼€|å…³é—­,(EscortSkipCD)
#select ($EscortJiuyin) = æœ‰ä¹é˜´æˆ–å‰‘å¿ƒç­‰forceç±»buffæ—¶ï¼Œä¸ç­‰å¯¹åº”æŠ€èƒ½CD(è¯·ä¿®æ”¹éœ€è¦ç­‰å¾…CDçš„æŠ€èƒ½),æ‰“å¼€|å…³é—­,(EscortJiuyin)
#input ($EscortWaitCDExp) = ç­‰å¾…CDçš„æŠ€èƒ½sid(ä»€ä¹ˆéƒ½ä¸ç­‰å¡«null),(EscortWaitCDExp)
#input ($EscortWaitTime) = å‡ºç°ä¸è¦æ€¥æ…¢æ…¢æ¥çš„ç­‰å¾…æ—¶é—´ï¼Œå•ä½æ¯«ç§’),(EscortWaitTime)
#select ($EscortFoguang) = <hiz>é™„åŠ é€‰é¡¹ï¼ˆéå¿…è¦ï¼‰</hiz><br/>&nbsp*&nbspé‡åˆ°ä¹é˜³å¬å”¤å°‘æ—å·¥å…·äººåŠ ä½›å…‰,æ‰“å¼€|å…³é—­,(EscortFoguang)
#select ($EscortFoguangChannel) = åœ¨å“ªä¸ªé¢‘é“å¬å”¤å¦å…‹,å…¬å…±|å¸®æ´¾|é˜Ÿä¼,(EscortFoguangChannel)
#input ($EscortFoguangName) = å°‘æ—å·¥å…·äººåå­—,(EscortFoguangName)
#select ($EscortShenzhao) = é‡åˆ°ä¹é˜³æ¢ç¥ç…§,æ˜¯|å¦,(EscortShenzhao)
#select ($EscortCanXue) = è¿æ­»äºŒæ¬¡åæ®‹è¡€å«æ€(é€‚ç”¨äºè¡€åˆ€),æ˜¯|å¦,(EscortCanXue)
#select ($EscortXuantie) = è¿æ­»ä¸‰æ¬¡æ¢ç„é“,æ˜¯|å¦,(EscortXuantie)
#select ($EscortTangshi) = å”è¯—å‰‘æ³•,ä½¿ç”¨|ä¸ä½¿ç”¨,(EscortTangshi)
#input ($EscortWeaponID) = åˆ‡æ¢èººå°¸æˆ–ç„é“ä½¿ç”¨çš„å‰‘ç±»æ­¦å™¨idï¼ˆå·²ç»æ‹¿å‰‘çš„è¯å¯ä»¥ä¸å¡«ï¼‰,(EscortWeaponID)
// è¿œç¨‹é€šçŸ¥
#select ($EscortAlertTel)=<hiz>è¿œç¨‹é€šçŸ¥åŠŸèƒ½ï¼Œéœ€å…ˆåœ¨è®¾ç½®ä¸­å¼€å¯å¹¶å¡«å†™å‚æ•°ï¼Œéœ€è¦pluginsç‰ˆæœ¬è‡³å°‘0.0.32.192ï¼Œraidç‰ˆæœ¬è‡³å°‘2.4.45ï¼Œä¸æ‡‚çš„è¯è¯·å‹¿ä½¿ç”¨ï¼Œè‡ªè¡Œæœç´¢äº†è§£ã€‚</hiz><br/>&nbsp*&nbspæµç¨‹ç»“æŸæˆ–åŒä¸€å¼ºç›—æ­»äº¡è¾¾åˆ°5æ¬¡ï¼Œå¼€å¯è¿œç¨‹é€šçŸ¥,å¼€å¯|å…³é—­,(EscortAlertTel)

#config
//[if] (EscortJiuyin) == æ‰“å¼€
//    ($EscortXuedao) = å…³é—­
[if] (EscortWeaponID) == null
    [if] (EscortXuantie)==æ˜¯ || (EscortTangshi)==ä½¿ç”¨
        @print <hiy>æœªè®¾ç½®å‰‘ç±»æ­¦å™¨idï¼Œè¯·é‡æ–°è®¾ç½®ï¼</hiy>
        [exit]
<-stopSSAuto
<-recordGains
stopstate
($hpPer) = (EscortHpThreshold)/100
($mpPer) = (EscortMpThreshold)/100
($jianfa) = (:kf_jian)
($quanjiao) = null
($weapon) = (:eq0)
($numJF) = 0
($num) = 0
@cmdDelay 500
[while] (num) < (repeat)
    @js $('#yb_prog').remove()
    @js $(`.state-bar`).before(`<div id="yb_prog">å¼€å§‹è¿é•–</div>`)
    [if] (:room) != è¿é•–-é’çŸ³å¤§é“
        [if] (:room è¿é•–) == false
            @await 1000
            @tidyBag
            [while] (:room) != æ‰¬å·åŸ-æ­¦åº™
                $to æ‰¬å·åŸ-æ­¦åº™
                @await 500
            [if] (EscortXuedao) == å…³é—­ || (:mpPer) < (mpPer)
                @renew
            [if] (EscortSkipCD) != æ‰“å¼€
                @cd
            @await 2000
            jh fam 0 start;go west[2];go south[2]
            select {æ—éœ‡å—};biao {ræ—éœ‡å—}
        // ç¡®å®šå·²æ¥åˆ°ä»»åŠ¡
            [while] true
                ($go) = null
                ($go1) = null
                task yunbiao {ræ—éœ‡å—} start ok
                @tip å®¢æˆ·å¥½åƒä¸è§äº†|ä½ ç°åœ¨å°±($go)å§|ä½ ç²¾($finish)ä¸è¶³|å¦‚æœä½ ($go1)æŒ‰æ—¶é€åˆ°|ä½ ç²¾åŠ›ä¸è¶³ï¼Œå¥½å¥½($jingli)ä¸‹å†æ¥
                [if] (go) == å‡ºå‘
                    [break]
                [if] (go1) == ä¸èƒ½æŠŠé•–é“¶
                    task yunbiao {ræ—éœ‡å—} begin
                    [break]
                [if] (finish) != null
                    recordGains->
                    $zdwk
                    @print ç²¾åŠ›ä¸è¶³ï¼Œåœæ­¢æŠ¼é•–ã€‚
                    tm ç²¾åŠ›ä¸è¶³ï¼Œåœæ­¢æŠ¼é•–ã€‚
                    [exit]
    [while] true
        [if] (:hpPer) < (hpPer) || (:mpPer) < (mpPer)
            ($renewCS) = 0
            [if] (:hpPer) < (HpPer)
                ($renewCS) = 1
            [if] (:mpPer) < (mpPer)
                ($renewCS) = (renewCS) + 2
            [if] (EscortXuedao) == æ‰“å¼€
                ($renewCS) = (renewCS) + 4
            [if] (EscortChangsheng) == æ‰“å¼€ && (renewCS) > 0 && (renewCS) != 4 && (renewCS) != 5
                ($eqforce)=(:kf_nei)
                enable force changshengjue
                @cd force.zhen
                @perform force.zhen
                @await 500
                enable force (eqforce)
                [if] (EscortXuedao) == æ‰“å¼€ && (jiuyang) == null
                    enable force none;enable force (eqforce)
            [else]
                [if] (renewCS) == 1 || (renewCS) == 3
                    @liaoshang
                [else if] (renewCS) == 2 || (renewCS) == 3 || (renewCS) == 6 || (renewCS) == 7
                    dazuo
                    @until (:mpPer) >= (mpPer)
                    stopstate
        [if] (EscortTangshi) == ä½¿ç”¨
            cha none;enable sword tangshijianfa;eq (EscortWeaponID)
            @wait 3000
            @cd sword.wu
        [if] (EscortShenzhao) == æ˜¯ && (quanjiao) != null && (jiuyang) == null && (quanjiao) != shenzhaojing
            enable unarmed (quanjiao)
            @await 1000
        [if] (EscortWaitCDExp) != null && (EscortSkipCD) != æ‰“å¼€
            @cd (EscortWaitCDExp)
        [if] (EscortJiuyin) == æ‰“å¼€ && (EscortSkipCD) != æ‰“å¼€
            [if] (:status force) == false
                [(:kf_nei)==jiuyinshengong || (EscortForce)==è‡ªåˆ›ä¹é˜´]@cd force.cui
                [(:kf_nei)==cihangjiandian || (EscortForce)==è‡ªåˆ›æ…ˆèˆª]@cd force.xin
                [(:kf_nei)==mingyugong]@cd force.power
                [(:kf_nei)==zixiashengong2]@cd force.xi
        @until (:status xuruo) == false
        [if] (EscortTangshi) == ä½¿ç”¨
            go east;$waitpfm sword.wu
        [else if] (EscortCanXue) == æ˜¯ && (dead) == 2 && (jiuyang) == null
            [if] (:kf_dao)==xuedao
                ($force) = (:kf_nei)
                enable force none;enable force (force)
            go east
        [else if] (EscortXuedao) == æ‰“å¼€ && (jiuyang) == null && (:status force) == false && (EscortSkipCD) != æ‰“å¼€
            [(:kf_nei)==jiuyinshengong || (EscortForce)==è‡ªåˆ›ä¹é˜´]@cd force.cui
            [(:kf_nei)==cihangjiandian || (EscortForce)==è‡ªåˆ›æ…ˆèˆª]@cd force.xin
            [(:kf_nei)==mingyugong || (EscortForce)==æ˜ç‰åŠŸ]@cd force.power
            [(:kf_nei)==zixiashengong2 || (EscortForce)==ç´«éœç¥åŠŸ]@cd force.xi
            ($eqforce) = (:kf_nei)
            enable force none;enable force (eqforce)
            go east
        [else]
            go east
        [if] (:room) == è¿é•–-é’çŸ³å¤§é“
            @tip ä¸è¦æ€¥ï¼Œ($needwait)æ¥|çœ‹èµ·æ¥($qiangdao)æƒ³æ€æ­»ä½ |ä½ æ¨ç€é•–é“¶é£å°˜ä»†ä»†
            [if] (needwait) != null && (:living) == true
                ($needwait) = null
                @print ä¸è¦æ€¥æ…¢æ…¢æ¥ï¼Œç­‰ä¸€ä¸‹å†ç»§ç»­
                [if] (EscortWaitTime) > 0 && (EscortWaitTime) != null
                    @await (EscortWaitTime)
                [continue]
            //[if] {rçš„å°¸ä½“}? != null && {r(:name)çš„å°¸ä½“}? == null && (:combating) == false && (:living) == true
            [if] (EscortTangshi) == ä½¿ç”¨
                @cd sword.wu
                cha none;enable sword (jianfa);eq (weapon)
                @wait 3000
                @cd
                kill {rè’™é¢å¤§ç›—}?;$waitpfm unarmed.quan
            @tip ä¹é˜³ç¥åŠŸ($jiuyang)äº†ä½ çš„çœŸå…ƒ|ä½ è·å¾—äº†|æ²¡æœ‰ä¸œè¥¿|æ­»äº†|ä½ ç°åœ¨æ˜¯çµé­‚çŠ¶æ€ï¼Œä¸èƒ½é‚£ä¹ˆåš
            @until {rè’™é¢å¤§ç›—}? == null || (:combating) == false || (:living) == false
            [if] (:living) == true
                ($jiuyang) = null
                ($dead) = null
                [if] (EscortShenzhao) == æ˜¯ && (quanjiao) != null && (quanjiao) != shenzhaojing
                    enable unarmed (quanjiao)
                [if] (EscortXuantie) == æ˜¯
                    [if] (:kf_jian) != (jianfa)
                      enable sword (jianfa)
                    eq (weapon)
                    @await 4000
                ($numJF) = (numJF) + 1
                ($info) = å½“å‰è¿é•–æµç¨‹å·²å®Œæˆ <hiy>(num)/(repeat)</hiy> æ¬¡ï¼Œæœ¬æ¬¡å·²æ‰“æ­» <hiy>(numJF)</hiy> ä¸ªåŠ«åŒªã€‚
                @print (info)
                @js $('#yb_prog').html(`(info)`)    
                //[if] (EscortWaitTime) > 0 && (EscortWaitTime) != null
                //    @await (EscortWaitTime)
                [continue]
            [if] (:living) == false
                [(dead)== null]($dead)=0
                ($dead) = (dead)+1
                [(dead)>=4]($jiuyang)=yes
                ($info) = <ord>ç´¯è®¡æ­»äº¡ (dead) æ¬¡ï¼</ord><br>å½“å‰è¿é•–æµç¨‹å·²å®Œæˆ <hiy>(num)/(repeat)</hiy> æ¬¡ï¼Œæœ¬æ¬¡å·²æ‰“æ­» <hiy>(numJF)</hiy> ä¸ªåŠ«åŒªã€‚
                @print (info)
                @js $('#yb_prog').html(`(info)`)
                [if] (dead)>=5
                    // è¿œç¨‹é€šçŸ¥
                    [if] (EscortAlertTel) == å¼€å¯
                        ($logPush) = ã€æŠ¼é•–ã€‘(:name)ï¼š(info)
                        @push (logPush)
                [if] (jiuyang) != null
                    [if] (EscortFoguang) == æ‰“å¼€
                        [if] (dead) >= 5
                            tm ç´¯è®¡æ­»äº¡ (dead) æ¬¡ï¼Œå‡†å¤‡å¬å”¤ä½›å…‰
                        [else]
                            tm é­é‡ä¹é˜³åŠ«åŒªï¼Œå‡†å¤‡å¬å”¤ä½›å…‰
                    [else]
                        tm ç´¯è®¡æ­»äº¡ (dead) æ¬¡ï¼Œå¯èƒ½é­é‡ä¹é˜³åŠ«åŒªï¼
                [while] (:living) == false
                    @await 500
                    relive
                [if] (:status xuruo) == true && (WDXuruo) == æ‰“å¼€
                    @await 2000
                    jh fam 9 start
                    go enter
                    //($force) = (:kf_nei)
                    //enable force none
                    kill {ræ­¦é“}
                    @until (:combating) == false && (:status faint) == false && (:status missing) == false
                    //enable force (force)
                [while] (:room) != æ‰¬å·åŸ-æ­¦åº™
                    $to æ‰¬å·åŸ-æ­¦åº™
                    @await 500
                @liaoshang
                [if] (EscortSkipCD) != æ‰“å¼€
                    @cd
                [if] (EscortXuantie) == æ˜¯
                    [if] (dead) == 3
                        [if] (:kf_jian) != xuantiejianfa
                            enable sword xuantiejianfa
                        [if] (EscortWeaponID) != null
                            @eq (EscortWeaponID)
                            @await 4000
                    [else if] (dead) > 3 && (:eq0) != (weapon)
                        [if] (:kf_jian) != (jianfa)
                            enable sword (jianfa)
                        eq (weapon)
                        @await 4000
                @until (:status xuruo) == false
                [if] (jiuyang) != null && (EscortShenzhao) == æ˜¯
                    [if] (:kf_quan) != shenzhaojing
                        ($quanjiao) = (:kf_quan)
                    enable unarmed shenzhaojing
                    @cd unarmed.quan
                [if] (jiuyang) != null && (EscortFoguang) == æ‰“å¼€
                    [if] (EscortFoguangName) != null
                        team out
                        $to æ‰¬å·åŸ-æ­¦åº™
                        go east
                        [if] (EscortFoguangChannel) == å…¬å…±
                            ($fgcl) = chat
                        [else if] (EscortFoguangChannel) == å¸®æ´¾
                            ($fgcl) = pty
                        [else if] (EscortFoguangChannel) == é˜Ÿä¼
                            ($fgcl) = tm
                        (fgcl) å¬å”¤ä½›å…‰
                        @tip (EscortFoguangName)é‚€è¯·ä½ åŠ å…¥ç»„é˜Ÿ
                        team reply ok
                        @until (:status foguang) == true
                        team out
                    [else]
                        tm æ— æŒ‡å®šå°‘æ—å·¥å…·äººï¼
                jh fam 0 start;go west[2];go south[2]
                select {æ—éœ‡å—};biao {ræ—éœ‡å—}
                task yunbiao {ræ—éœ‡å—} begin
        [else]
            @await 100
            [if] (:room) != è¿é•–-é’çŸ³å¤§é“ && (:room æ­¦å½“æ´¾,å°‘æ—æ´¾,åå±±æ´¾,å³¨çœ‰æ´¾,é€é¥æ´¾,ä¸å¸®,æ€æ‰‹æ¥¼)==true
                @tip ä½ æ¨ç€é•–é“¶é£å°˜ä»†ä»†åœ°æ¥åˆ°($map)ï¼Œåªè¦æŠŠé•–é“¶äº¤ç»™($name)å°±å®Œæˆäº†ã€‚
                ($info) = <hiy>æ”¶è´§äººæ˜¯(name)ï¼Œå‡†å¤‡äº¤é•–ã€‚</hiy>
                @js $('#yb_prog').html(`(info)`)
                @await 3000
                [while] true
                    [if] (:room) == åå±±æ´¾-ç»ƒæ­¦åœº || (:room) == é€é¥æ´¾-æ—é—´å°é“ || (:room) == æ­¦å½“æ´¾-å¤ªå­å²© || (:room) == ä¸å¸®-ç ´åº™å¯†å®¤ || (:room) == å°‘æ—æ´¾-ç»ƒæ­¦åœº || (:room) == å³¨çœ‰æ´¾-å¹¿åœº || (:room) == æ€æ‰‹æ¥¼-ç»ƒåŠŸæˆ¿
                        [if] (:room) == åå±±æ´¾-ç»ƒæ­¦åœº || (:room) == é€é¥æ´¾-æ—é—´å°é“
                            [if] (name) != é—¨æ´¾åå‹¤ç®¡ç†å‘˜
                                ($sxdz) = {ré¦–å¸­å¼Ÿå­}?
                        [else if] (:room) == æ­¦å½“æ´¾-å¤ªå­å²© || (:room) == ä¸å¸®-ç ´åº™å¯†å®¤
                            ($sxdz) = {ré¦–å¸­å¼Ÿå­}?
                        [else if] (:room) == å°‘æ—æ´¾-ç»ƒæ­¦åœº
                            ($sxdz) = {rå°‘æ—æ´¾å¤§å¸ˆå…„}?
                        [else if] (:room) == å³¨çœ‰æ´¾-å¹¿åœº
                            ($sxdz) = {rå³¨çœ‰å¤§å¸ˆå§}?
                        [else if] (:room) == æ€æ‰‹æ¥¼-ç»ƒåŠŸæˆ¿
                            ($sxdz) = {ré‡‘ç‰Œæ€æ‰‹}?
                        [if] {r(name)}? != (sxdz) && (name) != é—¨æ´¾åå‹¤ç®¡ç†å‘˜
                            ($name) = (:findName (sxdz))
                    [if] (name) == é“ç«¥ && (:room) == æ­¦å½“æ´¾-å¹¿åœº
                        ($name) = æ­¦å½“æ´¾ç¬¬å››ä»£å¼Ÿå­ é“ç«¥
                    [if] {r(name)}? == null
                        @print ã€(:room)ã€‘ã€(name)ã€‘å¤±è¸ªï¼Œç­‰å¾…å‡ºç°ã€‚
                    @until {r(name)}? != null
                    select {r(name)};task yunbiao {r(name)} give
                    @tip è¿™æ˜¯ä½ çš„æŠ¥é…¬|è¿™ä¸æ˜¯($no)é•–é“¶|ä½ æœ‰($wrong)äº‹å—|è¿™é‡Œ($wrong)è¿™ä¸ªäºº|ä¸è¦æ€¥ï¼Œ($needwait)æ¥
                    [if] (needwait) != null
                        ($needwait) = null
                        @print ä¸è¦æ€¥æ…¢æ…¢æ¥ï¼Œç­‰ä¸€ä¸‹å†ç»§ç»­
                        @await 3000
                        [continue]
                    [if] (no) != null || (wrong) != null
                        ($wrong) = null
                        ($no) = null
                        tm ã€(:room)ã€‘ã€(name)ã€‘å¤±è¸ªï¼Œç­‰å¾…1åˆ†é’Ÿå†å°è¯•äº¤é•–ã€‚
                        @await 60000
                        [continue]
                    [else]
                        [break]
                [break]
            [else]
                [continue]
    ($num) = (num) + 1
    ($numJF) = 0
recordGains->
stopSSAuto->
@js $('#yb_prog').remove()
[if] (EscortTangshi) == ä½¿ç”¨
    enable sword (jianfa);eq (weapon)
// è¿œç¨‹é€šçŸ¥
[if] (EscortAlertTel) == å¼€å¯
    ($logPush) = ã€æŠ¼é•–ã€‘(:name)ï¼šæŠ¼é•–ç»“æŸã€‚
    @push (logPush)
[while] (:room) != æ‰¬å·åŸ-æ­¦åº™
    $to æ‰¬å·åŸ-æ­¦åº™
    @await 500
@renew
@tidyBag
$zdwk